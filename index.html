<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Vhs test</title>
        <style type='text/css'>
            body {
                background-color: #000;
            }
            img, canvas {
                position: absolute;
                top: 0px;
                left: 0px;
                height: 100%;
                width: 100%;
            }
            canvas {
                filter: blur(2px);
                mix-blend-mode: screen;
            }
            #white_noise {
                filter: blur(1px);
                mix-blend-mode: overlay;
                opacity: .15;
            }
        </style>
    </head>
    <body onclick="javascript: apply_gif_filters()">
        <img id='vaporwave_gif' src='heyarnold.gif' />
        <img id='white_noise' src='whitenoise.gif' />
        <canvas id='canvas' width='500px' height='400px;'></canvas>
        <script src='jquery.js' type='text/javascript'></script>
        <script type="text/javascript" charset="utf-8">

            var ctx, canvas;
            var whiteNoise;
            var frames = 0;
            var maxFrames = 60;

            function draw() {
                frames = (frames + 1) % maxFrames;
                if (frames % 4 == 0) {
                    ctx.clearRect(0, 0, canvas.width, canvas.height);
                    ctx.fillStyle = '#666';
                    for (var x=0; x<Math.floor(Math.random() * 3); x+=1) {
                        randBar = Math.random() * canvas.height;
                        barHeight = Math.random() * 30;
                        //ctx.fillRect(0, randBar, canvas.width, barHeight);
                        ctx.drawImage(whiteNoise, 0, randBar, canvas.width, barHeight);
                    }
                }
                window.requestAnimationFrame(draw);
            }

            function apply_gif_filters() {
                gif_filters = [];
                gif_filters.push('contrast(' + (35 + Math.random() * 55) + '%)')
                gif_filters.push('hue-rotate(' + (15 + Math.random() * 65) + 'deg)')
                gif_filters.push('saturate(' + (110 + Math.random() * 55) + '%)')
                gif_filters.push('blur(' + Math.floor(Math.random() * 3) + 'px)');
                gif = document.getElementById('vaporwave_gif');
                gif.style.filter = gif_filters.join(' ');
            }

            $(document).ready(function() {
                whiteNoise = new Image();
                whiteNoise.src = 'whitenoise.jpg';
                canvas = document.getElementById('canvas');

                apply_gif_filters();

                ctx = canvas.getContext('2d');
                draw();
            });
        </script>
        <iframe width="1" height="1" src="https://www.youtube.com/embed/z2ewmyuYz9I?rel=0&controls=0&showinfo=0&autoplay=1&loop=1" frameborder="0"></iframe>
    </body>
</html>
